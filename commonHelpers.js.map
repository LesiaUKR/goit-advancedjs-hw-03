{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst BREEDS_END_POINT = '/breeds';\nconst IMAGE_END_POINT = '/images/search';\nconst API_KEY =\n  'live_0MLgLm3ygusJhuSn6RvDBclcWVtxZS27hFvL1qegdoBmEHHqkWml5GyhzLGFd5H8';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport const fetchBreeds = async () => {\n  const responce = await axios.get(`${BASE_URL}${BREEDS_END_POINT}`);\n  if (!responce || responce.status !== 200) {\n    throw new Error('Failed to fetch cat breeds');\n  }\n  return responce.data;\n};\n\nexport const fetchCatByBreed = async breedId => {\n  const responce = await axios.get(\n    `${BASE_URL}${IMAGE_END_POINT}?breed_ids=${breedId}`\n  );\n  if (!responce || responce.status !== 200) {\n    throw new Error('Моя помилка');\n  }\n  return responce.data;\n};\n","import SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst catInfoBox = document.querySelector('.cat-info');\nconst select = document.querySelector('#selectElement');\nconst loader = document.querySelector('.loader');\n\nconst breedSelect = new SlimSelect({\n  select: '#selectElement',\n  settings: {\n    placeholderText: 'Search cats beeds',\n  },\n  // events: {\n  //   afterChange: onChangeSelect,\n  // },\n});\n\nselect.classList.add('hidden');\nloader.classList.remove('hidden');\n\nfetchBreeds()\n  .then(data => {\n    const options = [\n      {\n        value: '',\n        text: breedSelect.settings.placeholderText,\n        placeholder: true,\n      },\n      ...data.map(({ name, id }) => ({\n        value: `${id}`,\n        text: `${name}`,\n      })),\n    ];\n    breedSelect.setData(options);\n\n    select.classList.remove('hidden');\n    loader.classList.add('hidden');\n\n    select.addEventListener('change', onChangeSelect);\n  })\n  .catch(err => {\n    console.log(err);\n  });\n\nfunction onChangeSelect(evt) {\n  const selectedValuesId = evt.target.value;\n\n  loader.classList.remove('hidden');\n  catInfoBox.classList.add('hidden');\n\n  fetchCatByBreed(selectedValuesId)\n    .then(data => {\n      console.log('FetchCatByBreed Response:', data);\n      createMarkup(data);\n    })\n    .catch(err => {\n      console.error('FetchCatByBreed Error:', err);\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n      catInfoBox.classList.remove('hidden');\n    });\n}\n\nfunction createMarkup(data) {\n  const { url, breeds } = data[0];\n  const { name, alt_names, description, temperament } = breeds[0];\n\n  const markup = `\n  <div class=\"imgWrapper\">\n<img class=\"image\" src=\"${url}\" alt=\"${alt_names}\"/>\n  </div>\n  <div class=\"infoWrapper\">\n    <h2 class='title'>${name}</h2>\n    <p class='description'>${description}</p>\n    <h3 class='title subtitle'>Temperament</h3>\n    <p class='temperament'>${temperament}</p>\n  </div>\n  `;\n  catInfoBox.innerHTML = markup;\n}\n"],"names":["BASE_URL","BREEDS_END_POINT","IMAGE_END_POINT","API_KEY","axios","fetchBreeds","responce","fetchCatByBreed","breedId","catInfoBox","select","loader","breedSelect","SlimSelect","data","options","name","id","onChangeSelect","err","evt","selectedValuesId","createMarkup","url","breeds","alt_names","description","temperament","markup"],"mappings":"6vBAEA,MAAMA,EAAW,+BACXC,EAAmB,UACnBC,EAAkB,iBAClBC,EACJ,wEACFC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAID,EAEtC,MAAME,EAAc,SAAY,CACrC,MAAMC,EAAW,MAAMF,EAAM,IAAI,GAAGJ,CAAQ,GAAGC,CAAgB,EAAE,EACjE,GAAI,CAACK,GAAYA,EAAS,SAAW,IACnC,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,EAAS,IAClB,EAEaC,EAAkB,MAAMC,GAAW,CAC9C,MAAMF,EAAW,MAAMF,EAAM,IAC3B,GAAGJ,CAAQ,GAAGE,CAAe,cAAcM,CAAO,EACtD,EACE,GAAI,CAACF,GAAYA,EAAS,SAAW,IACnC,MAAM,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAS,IAClB,ECtBMG,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAc,IAAIC,EAAW,CACjC,OAAQ,iBACR,SAAU,CACR,gBAAiB,mBAClB,CAIH,CAAC,EAEDH,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAO,UAAU,OAAO,QAAQ,EAEhCN,EAAa,EACV,KAAKS,GAAQ,CACZ,MAAMC,EAAU,CACd,CACE,MAAO,GACP,KAAMH,EAAY,SAAS,gBAC3B,YAAa,EACd,EACD,GAAGE,EAAK,IAAI,CAAC,CAAE,KAAAE,EAAM,GAAAC,CAAE,KAAQ,CAC7B,MAAO,GAAGA,CAAE,GACZ,KAAM,GAAGD,CAAI,EACrB,EAAQ,CACR,EACIJ,EAAY,QAAQG,CAAO,EAE3BL,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAO,UAAU,IAAI,QAAQ,EAE7BD,EAAO,iBAAiB,SAAUQ,CAAc,CACpD,CAAG,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACnB,CAAG,EAEH,SAASD,EAAeE,EAAK,CAC3B,MAAMC,EAAmBD,EAAI,OAAO,MAEpCT,EAAO,UAAU,OAAO,QAAQ,EAChCF,EAAW,UAAU,IAAI,QAAQ,EAEjCF,EAAgBc,CAAgB,EAC7B,KAAKP,GAAQ,CACZ,QAAQ,IAAI,4BAA6BA,CAAI,EAC7CQ,EAAaR,CAAI,CACvB,CAAK,EACA,MAAMK,GAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,CACjD,CAAK,EACA,QAAQ,IAAM,CACbR,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAW,UAAU,OAAO,QAAQ,CAC1C,CAAK,CACL,CAEA,SAASa,EAAaR,EAAM,CAC1B,KAAM,CAAE,IAAAS,EAAK,OAAAC,CAAQ,EAAGV,EAAK,CAAC,EACxB,CAAE,KAAAE,EAAM,UAAAS,EAAW,YAAAC,EAAa,YAAAC,GAAgBH,EAAO,CAAC,EAExDI,EAAS;AAAA;AAAA,0BAESL,CAAG,UAAUE,CAAS;AAAA;AAAA;AAAA,wBAGxBT,CAAI;AAAA,6BACCU,CAAW;AAAA;AAAA,6BAEXC,CAAW;AAAA;AAAA,IAGtClB,EAAW,UAAYmB,CACzB"}