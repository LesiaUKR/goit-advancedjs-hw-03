{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst BREEDS_END_POINT = '/breeds';\nconst IMAGE_END_POINT = '/images/search';\nconst API_KEY =\n  'live_0MLgLm3ygusJhuSn6RvDBclcWVtxZS27hFvL1qegdoBmEHHqkWml5GyhzLGFd5H8';\n\nexport const fetchBreeds = () => {\n  return fetch(`${BASE_URL}${BREEDS_END_POINT}`).then(resp => {\n    console.log(resp);\n    if (!resp.ok) {\n      console.log(resp);\n      throw new Error('Моя помилка');\n    }\n    return resp.json();\n  });\n};\n\nexport const fetchCatByBreed = breedId => {\n  return fetch(\n    `${BASE_URL}${IMAGE_END_POINT}?breeds_ids=${breedId}\"&api_key=${API_KEY}`\n  ).then(resp => {\n    console.log(resp);\n    if (!resp.ok) {\n      console.log(resp);\n      throw new Error('Моя помилка');\n    }\n    return resp.json();\n  });\n};\n","import SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconsole.log(SlimSelect);\nconst catInfoBox = document.querySelector('.cat-info');\n\nconst breedSelect = new SlimSelect({\n  select: '#selectElement',\n  settings: {\n    placeholderText: 'Search cats beeds',\n  },\n  events: {\n    afterChange: onChangeSelect,\n  },\n});\nconsole.log(breedSelect);\n\nfetchBreeds()\n  .then(data => {\n    console.log(data);\n    const options = [\n      {\n        value: '',\n        text: breedSelect.settings.placeholderText,\n        placeholder: true,\n      },\n      ...data.map(({ name, id }) => ({\n        value: `${id}`,\n        text: `${name}`,\n      })),\n    ];\n\n    breedSelect.setData(options);\n  })\n  .catch(err => console.log(err));\n\nfunction onChangeSelect(selectedOptions) {\n  const selectedValuesId = selectedOptions.map(option => option.value);\n  console.log(selectedValuesId);\n\n  fetchCatByBreed(selectedValuesId)\n    .then(data => {\n      console.log(data);\n      catInfoBox.innerHTML = createMarkup(data);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nfunction createMarkup(data) {\n  const { url, breeds } = data[0];\n  const { name, alt_names, description, temperament } = breeds[0];\n  const markup = `\n  <div class=\"imgWrapper\">\n  <img src=\"${url}\" alt=\"${alt_names}\" width=100% height=500 />\n  </div>\n  <div class=\"infoWrapper\">\n    <h2 class='title'>${name}</h2>\n    <p class='description'>${description}</p>\n    <h3 class='subtitle'>${temperament}</h3>\n  </div>\n  `;\n  return markup;\n}\n"],"names":["BASE_URL","BREEDS_END_POINT","IMAGE_END_POINT","API_KEY","fetchBreeds","resp","fetchCatByBreed","breedId","SlimSelect","catInfoBox","breedSelect","onChangeSelect","data","options","name","id","err","selectedOptions","selectedValuesId","option","createMarkup","url","breeds","alt_names","description","temperament"],"mappings":"svBAAA,MAAMA,EAAW,+BACXC,EAAmB,UACnBC,EAAkB,iBAClBC,EACJ,wEAEWC,EAAc,IAClB,MAAM,GAAGJ,IAAWC,GAAkB,EAAE,KAAKI,GAAQ,CAE1D,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,GACR,cAAQ,IAAIA,CAAI,EACV,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAK,MAChB,CAAG,EAGUC,EAAkBC,GACtB,MACL,GAAGP,IAAWE,gBAA8BK,cAAoBJ,GACpE,EAAI,KAAKE,GAAQ,CAEb,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,GACR,cAAQ,IAAIA,CAAI,EACV,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAK,MAChB,CAAG,ECxBH,QAAQ,IAAIG,CAAU,EACtB,MAAMC,EAAa,SAAS,cAAc,WAAW,EAE/CC,EAAc,IAAIF,EAAW,CACjC,OAAQ,iBACR,SAAU,CACR,gBAAiB,mBAClB,EACD,OAAQ,CACN,YAAaG,CACd,CACH,CAAC,EACD,QAAQ,IAAID,CAAW,EAEvBN,EAAa,EACV,KAAKQ,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAAU,CACd,CACE,MAAO,GACP,KAAMH,EAAY,SAAS,gBAC3B,YAAa,EACd,EACD,GAAGE,EAAK,IAAI,CAAC,CAAE,KAAAE,EAAM,GAAAC,CAAE,KAAQ,CAC7B,MAAO,GAAGA,IACV,KAAM,GAAGD,GACjB,EAAQ,CACR,EAEIJ,EAAY,QAAQG,CAAO,CAC/B,CAAG,EACA,MAAMG,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAEhC,SAASL,EAAeM,EAAiB,CACvC,MAAMC,EAAmBD,EAAgB,IAAIE,GAAUA,EAAO,KAAK,EACnE,QAAQ,IAAID,CAAgB,EAE5BZ,EAAgBY,CAAgB,EAC7B,KAAKN,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChBH,EAAW,UAAYW,EAAaR,CAAI,CAC9C,CAAK,EACA,MAAMI,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CAEA,SAASI,EAAaR,EAAM,CAC1B,KAAM,CAAE,IAAAS,EAAK,OAAAC,CAAQ,EAAGV,EAAK,GACvB,CAAE,KAAAE,EAAM,UAAAS,EAAW,YAAAC,EAAa,YAAAC,GAAgBH,EAAO,GAW7D,MAVe;AAAA;AAAA,cAEHD,WAAaE;AAAA;AAAA;AAAA,wBAGHT;AAAA,6BACKU;AAAA,2BACFC;AAAA;AAAA,GAI3B"}