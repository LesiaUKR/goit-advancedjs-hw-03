{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst BREEDS_END_POINT = '/breeds';\nconst IMAGE_END_POINT = '/images/search';\nconst API_KEY =\n  'live_0MLgLm3ygusJhuSn6RvDBclcWVtxZS27hFvL1qegdoBmEHHqkWml5GyhzLGFd5H8';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport const fetchBreeds = async () => {\n  const responce = await axios.get(`${BASE_URL}${BREEDS_END_POINT}`);\n  if (!responce || responce.status !== 200) {\n    console.log(responce);\n    throw new Error('Моя помилка');\n  }\n  return responce.data;\n};\n\nexport const fetchCatByBreed = async breedId => {\n  const responce = await axios.get(\n    `${BASE_URL}${IMAGE_END_POINT}?breed_ids=${breedId}`\n  );\n  if (!responce || responce.status !== 200) {\n    console.log(responce);\n    throw new Error('Моя помилка');\n  }\n  return responce.data;\n};\n","import SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst catInfoBox = document.querySelector('.cat-info');\n\nconst breedSelect = new SlimSelect({\n  select: '#selectElement',\n  settings: {\n    placeholderText: 'Search cats beeds',\n  },\n  events: {\n    afterChange: onChangeSelect,\n  },\n});\nconsole.log(breedSelect);\n\nfetchBreeds()\n  .then(data => {\n    console.log(data);\n    const options = [\n      {\n        value: '',\n        text: breedSelect.settings.placeholderText,\n        placeholder: true,\n      },\n      ...data.map(({ name, id }) => ({\n        value: `${id}`,\n        text: `${name}`,\n      })),\n    ];\n\n    breedSelect.setData(options);\n    // optionsMarkup(data);\n  })\n  .catch(err => console.log(err));\n\n// function optionsMarkup(data) {\n//   const breedSelect = new SlimSelect({\n//     select: '#selectElement',\n//     data: [\n//       ...data.map(({ name, id }) => ({\n//         value: `${id}`,\n//         text: `${name}`,\n//       })),\n//     ],\n//     settings: {\n//       placeholderText: 'Search cats beeds',\n//     },\n//     events: {\n//       afterChange: onChangeSelect,\n//     },\n//   });\n//   console.log(breedSelect);\n// }\n\nfunction onChangeSelect(selectedOptions) {\n  console.log('onChangeSelect called');\n  const selectedValuesId = selectedOptions.map(option => option.value);\n  console.log('Selected Values IDs:', selectedValuesId);\n\n  fetchCatByBreed(selectedValuesId)\n    .then(data => {\n      console.log('FetchCatByBreed Response:', data);\n      createMarkup(data);\n    })\n    .catch(err => {\n      console.error('FetchCatByBreed Error:', err);\n    });\n}\n\nfunction createMarkup(data) {\n  const { url, breeds } = data[0];\n  if (!url || !breeds || breeds.length === 0) {\n    return 'No data available';\n  }\n  const { name, alt_names, description, temperament } = breeds[0];\n  const markup = `\n  <div class=\"imgWrapper\">\n  <img src=\"${url}\" alt=\"${alt_names}\" width=100% height=500 />\n  </div>\n  <div class=\"infoWrapper\">\n    <h2 class='title'>${name}</h2>\n    <p class='description'>${description}</p>\n    <h3 class='subtitle'>${temperament}</h3>\n  </div>\n  `;\n  catInfoBox.innerHTML = markup;\n}\n"],"names":["BASE_URL","BREEDS_END_POINT","IMAGE_END_POINT","API_KEY","axios","fetchBreeds","responce","fetchCatByBreed","breedId","catInfoBox","breedSelect","SlimSelect","onChangeSelect","data","options","name","id","err","selectedOptions","selectedValuesId","option","createMarkup","url","breeds","alt_names","description","temperament","markup"],"mappings":"wvBAEA,MAAMA,EAAW,+BACXC,EAAmB,UACnBC,EAAkB,iBAClBC,EACJ,wEACFC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAID,EAEtC,MAAME,EAAc,SAAY,CACrC,MAAMC,EAAW,MAAMF,EAAM,IAAI,GAAGJ,CAAQ,GAAGC,CAAgB,EAAE,EACjE,GAAI,CAACK,GAAYA,EAAS,SAAW,IACnC,cAAQ,IAAIA,CAAQ,EACd,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAS,IAClB,EAEaC,EAAkB,MAAMC,GAAW,CAC9C,MAAMF,EAAW,MAAMF,EAAM,IAC3B,GAAGJ,CAAQ,GAAGE,CAAe,cAAcM,CAAO,EACtD,EACE,GAAI,CAACF,GAAYA,EAAS,SAAW,IACnC,cAAQ,IAAIA,CAAQ,EACd,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAS,IAClB,ECxBMG,EAAa,SAAS,cAAc,WAAW,EAE/CC,EAAc,IAAIC,EAAW,CACjC,OAAQ,iBACR,SAAU,CACR,gBAAiB,mBAClB,EACD,OAAQ,CACN,YAAaC,CACd,CACH,CAAC,EACD,QAAQ,IAAIF,CAAW,EAEvBL,EAAa,EACV,KAAKQ,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAAU,CACd,CACE,MAAO,GACP,KAAMJ,EAAY,SAAS,gBAC3B,YAAa,EACd,EACD,GAAGG,EAAK,IAAI,CAAC,CAAE,KAAAE,EAAM,GAAAC,CAAE,KAAQ,CAC7B,MAAO,GAAGA,CAAE,GACZ,KAAM,GAAGD,CAAI,EACrB,EAAQ,CACR,EAEIL,EAAY,QAAQI,CAAO,CAE/B,CAAG,EACA,MAAMG,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAqBhC,SAASL,EAAeM,EAAiB,CACvC,QAAQ,IAAI,uBAAuB,EACnC,MAAMC,EAAmBD,EAAgB,IAAIE,GAAUA,EAAO,KAAK,EACnE,QAAQ,IAAI,uBAAwBD,CAAgB,EAEpDZ,EAAgBY,CAAgB,EAC7B,KAAKN,GAAQ,CACZ,QAAQ,IAAI,4BAA6BA,CAAI,EAC7CQ,EAAaR,CAAI,CACvB,CAAK,EACA,MAAMI,GAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,CACjD,CAAK,CACL,CAEA,SAASI,EAAaR,EAAM,CAC1B,KAAM,CAAE,IAAAS,EAAK,OAAAC,CAAQ,EAAGV,EAAK,CAAC,EAC9B,GAAI,CAACS,GAAO,CAACC,GAAUA,EAAO,SAAW,EACvC,MAAO,oBAET,KAAM,CAAE,KAAAR,EAAM,UAAAS,EAAW,YAAAC,EAAa,YAAAC,GAAgBH,EAAO,CAAC,EACxDI,EAAS;AAAA;AAAA,cAEHL,CAAG,UAAUE,CAAS;AAAA;AAAA;AAAA,wBAGZT,CAAI;AAAA,6BACCU,CAAW;AAAA,2BACbC,CAAW;AAAA;AAAA,IAGpCjB,EAAW,UAAYkB,CACzB"}